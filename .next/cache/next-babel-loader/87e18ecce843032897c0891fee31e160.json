{"ast":null,"code":"var _jsxFileName = \"/home/james/Documents/dev/cp-fe/pages/auth/login.tsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Head from \"next/head\";\nimport { useRouter } from \"next/router\";\nimport Layout from \"../../components/Layout\";\nimport Link from \"next/link\";\nimport { useState } from \"react\";\nimport { Auth } from \"../../lib/endpoints\";\n\nconst Loader = () => __jsx(\"span\", {\n  className: \"spinner-border spinner-border-sm\",\n  role: \"status\",\n  \"aria-hidden\": \"true\",\n  style: {\n    width: \"1.5rem\",\n    height: \"1.5rem\"\n  },\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 10,\n    columnNumber: 3\n  }\n});\n\nconst Login = () => {\n  const {\n    0: show,\n    1: setShow\n  } = useState(false);\n  const {\n    0: isRegistered,\n    1: setIsRegistered\n  } = useState(null);\n  const {\n    0: isInputValid,\n    1: setIsInputValid\n  } = useState(null);\n  const {\n    0: isLoggedIn,\n    1: setIsLoggedIn\n  } = useState(null);\n  const {\n    0: promptBody,\n    1: setPromptBody\n  } = useState(\"\");\n  const {\n    0: linkTo,\n    1: setLinkTo\n  } = useState(null);\n  const {\n    0: linkText,\n    1: setLinkText\n  } = useState(null);\n  const {\n    0: authentication_property,\n    1: setaAthenticationProperty\n  } = useState(\"\");\n  const {\n    0: password,\n    1: setPassword\n  } = useState(\"\");\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n  const {\n    0: status,\n    1: setStatus\n  } = useState(\"\");\n  const {\n    0: statusColor,\n    1: setStatusColor\n  } = useState(\"blue\");\n  const router = useRouter();\n\n  const handleClose = () => setShow(false);\n\n  const handleShow = () => setShow(true);\n\n  const handleSubmit = async event => {\n    event.preventDefault();\n    setLoading(true);\n    setStatusColor(\"blue\");\n    setStatus(\"Please wait...\");\n\n    try {\n      const result = await new Auth().login(authentication_property, password);\n\n      if (result.status === 200) {\n        setLoading(false);\n        console.log(\"RESULT:\", result);\n        setStatusColor(\"blue\");\n        setStatus(\"Authentication success\");\n        setTimeout(() => {\n          // go to landing page\n          window.localStorage.setItem(\"cp-a\", JSON.stringify(result.data));\n          router.push(\"/blog\"); //   setPromptBody(\"Replace this prompt with landing page\");\n          //   setShow(true);\n          //   setLoading(false);\n        }, 250);\n      }\n    } catch (err) {\n      console.log(err.message);\n\n      if (err.message === \"Request failed with status code 401\") {\n        // bad credentials\n        console.log(\"BAD CREDENTIALS\");\n        setStatusColor(\"red\");\n        setStatus(\"Please check your credentials and try again.\"); // setPromptBody(\"Please check your credentials and try again.\");\n\n        setLinkTo(\"signup\");\n        setLinkText(\"Signup\");\n        setShow(true);\n        setLoading(false);\n      } else if (err.message === \"Request failed with status code 404\") {\n        // bad endpoint\n        setStatusColor(\"red\");\n        setStatus(\"An error occured. Contact systems admin\");\n      } else if (err.message === \"Network Error\") {\n        // bad network connection\n        setStatusColor(\"red\");\n        setStatus(\"Please check your network connection and try again.\"); // setPromptBody(\"Please check your network connection and try again.\");\n        // setShow(true);\n\n        setLoading(false);\n      }\n\n      setTimeout(() => {\n        setStatus(\"\");\n      }, 3500);\n    }\n  };\n\n  return __jsx(React.Fragment, null, __jsx(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }, __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, __jsx(\"link\", {\n    rel: \"stylesheet\",\n    type: \"text/css\",\n    href: \"/auth.css\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }\n  })), __jsx(\"div\", {\n    style: {\n      textAlign: \"center\",\n      margin: \"50px 0\",\n      width: \"50%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  }, __jsx(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }, __jsx(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 15\n    }\n  }, \"Login\"))), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 11\n    }\n  })), \" \", __jsx(\"div\", {\n    className: \"row\",\n    style: {\n      margin: \"0px 5px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }\n  }, __jsx(\"form\", {\n    style: {\n      width: \"100%\"\n    },\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"form-group col-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }, __jsx(\"label\", {\n    htmlFor: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 15\n    }\n  }, \"Email address / Phone Number\"), __jsx(\"input\", {\n    type: \"email\",\n    className: \"form-control cinput\",\n    id: \"email\",\n    \"aria-describedby\": \"emailHelp\",\n    placeholder: \"Enter email or Phone number\",\n    value: authentication_property,\n    onChange: e => setaAthenticationProperty(e.target.value),\n    style: {\n      padding: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 15\n    }\n  })), __jsx(\"div\", {\n    className: \"form-group col-12\",\n    style: {\n      marginBottom: 30\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }\n  }, __jsx(\"label\", {\n    htmlFor: \"exampleInputPassword1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 15\n    }\n  }, \"Password\"), __jsx(\"input\", {\n    type: \"password\",\n    className: \"form-control cinput\",\n    id: \"password\",\n    placeholder: \"Password\",\n    \"data-toggle\": \"password\",\n    value: password,\n    onChange: e => setPassword(e.target.value),\n    style: {\n      padding: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 15\n    }\n  })), __jsx(\"div\", {\n    className: \"form-group col-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }\n  }, __jsx(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-primary btn-block submitbutton\",\n    id: \"submitButton\",\n    style: {\n      padding: \"10px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 15\n    }\n  }, \"Login\")), __jsx(\"div\", {\n    style: {\n      textAlign: \"center\",\n      fontWeight: \"bolder\",\n      color: \"grey\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 13\n    }\n  }, __jsx(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 15\n    }\n  }, \"Forgot password?\"), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 15\n    }\n  }), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 15\n    }\n  }), \"Don't have an account?\", \" \", __jsx(Link, {\n    href: \"/auth/signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 15\n    }\n  }, __jsx(\"a\", {\n    id: \"signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 17\n    }\n  }, \"Sign Up\")))))));\n};\n\nexport default Login;","map":{"version":3,"sources":["/home/james/Documents/dev/cp-fe/pages/auth/login.tsx"],"names":["Head","useRouter","Layout","Link","useState","Auth","Loader","width","height","Login","show","setShow","isRegistered","setIsRegistered","isInputValid","setIsInputValid","isLoggedIn","setIsLoggedIn","promptBody","setPromptBody","linkTo","setLinkTo","linkText","setLinkText","authentication_property","setaAthenticationProperty","password","setPassword","loading","setLoading","status","setStatus","statusColor","setStatusColor","router","handleClose","handleShow","handleSubmit","event","preventDefault","result","login","console","log","setTimeout","window","localStorage","setItem","JSON","stringify","data","push","err","message","textAlign","margin","e","target","value","padding","marginBottom","fontWeight","color"],"mappings":"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","sourcesContent":["import Head from \"next/head\";\nimport { useRouter } from \"next/router\";\nimport Layout from \"../../components/Layout\";\nimport Link from \"next/link\";\nimport { useState, FormEvent } from \"react\";\nimport { Auth } from \"../../lib/endpoints\";\nimport { route } from \"next/dist/next-server/server/router\";\n\nconst Loader = () => (\n  <span\n    className=\"spinner-border spinner-border-sm\"\n    role=\"status\"\n    aria-hidden=\"true\"\n    style={{ width: \"1.5rem\", height: \"1.5rem\" }}\n  ></span>\n);\n\nconst Login = () => {\n  const [show, setShow] = useState(false);\n  const [isRegistered, setIsRegistered] = useState(null);\n  const [isInputValid, setIsInputValid] = useState(null);\n  const [isLoggedIn, setIsLoggedIn] = useState(null);\n  const [promptBody, setPromptBody] = useState(\"\");\n  const [linkTo, setLinkTo] = useState(null);\n  const [linkText, setLinkText] = useState(null);\n  const [authentication_property, setaAthenticationProperty] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [status, setStatus] = useState(\"\");\n  const [statusColor, setStatusColor] = useState(\"blue\");\n\n  const router = useRouter();\n\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    setLoading(true);\n    setStatusColor(\"blue\");\n    setStatus(\"Please wait...\");\n    try {\n      const result = await new Auth().login(authentication_property, password);\n      if (result.status === 200) {\n        setLoading(false);\n        console.log(\"RESULT:\", result);\n        setStatusColor(\"blue\");\n        setStatus(\"Authentication success\");\n\n        setTimeout(() => {\n          // go to landing page\n          window.localStorage.setItem(\"cp-a\", JSON.stringify(result.data));\n          router.push(\"/blog\");\n          //   setPromptBody(\"Replace this prompt with landing page\");\n          //   setShow(true);\n          //   setLoading(false);\n        }, 250);\n      }\n    } catch (err) {\n      console.log(err.message);\n      if (err.message === \"Request failed with status code 401\") {\n        // bad credentials\n        console.log(\"BAD CREDENTIALS\");\n        setStatusColor(\"red\");\n        setStatus(\"Please check your credentials and try again.\");\n\n        // setPromptBody(\"Please check your credentials and try again.\");\n        setLinkTo(\"signup\");\n        setLinkText(\"Signup\");\n        setShow(true);\n        setLoading(false);\n      } else if (err.message === \"Request failed with status code 404\") {\n        // bad endpoint\n        setStatusColor(\"red\");\n        setStatus(\"An error occured. Contact systems admin\");\n      } else if (err.message === \"Network Error\") {\n        // bad network connection\n        setStatusColor(\"red\");\n        setStatus(\"Please check your network connection and try again.\");\n        // setPromptBody(\"Please check your network connection and try again.\");\n        // setShow(true);\n        setLoading(false);\n      }\n      setTimeout(() => {\n        setStatus(\"\");\n      }, 3500);\n    }\n  };\n\n  return (\n    <>\n      <Layout>\n        <Head>\n          <link rel=\"stylesheet\" type=\"text/css\" href=\"/auth.css\" />\n        </Head>\n        <div\n          style={{\n            textAlign: \"center\",\n            margin: \"50px 0\",\n            width: \"50%\",\n          }}\n        >\n          <div>\n            <h3>\n              <b>Login</b>\n            </h3>\n          </div>\n          <br />\n        </div>{\" \"}\n        <div className=\"row\" style={{ margin: \"0px 5px\" }}>\n          <form style={{ width: \"100%\" }} onSubmit={handleSubmit}>\n            <div className=\"form-group col-12\">\n              <label htmlFor=\"email\">Email address / Phone Number</label>\n              <input\n                type=\"email\"\n                className=\"form-control cinput\"\n                id=\"email\"\n                aria-describedby=\"emailHelp\"\n                placeholder=\"Enter email or Phone number\"\n                value={authentication_property}\n                onChange={(e) => setaAthenticationProperty(e.target.value)}\n                style={{ padding: \"20px\" }}\n              />\n            </div>\n            <div className=\"form-group col-12\" style={{ marginBottom: 30 }}>\n              <label htmlFor=\"exampleInputPassword1\">Password</label>\n              <input\n                type=\"password\"\n                className=\"form-control cinput\"\n                id=\"password\"\n                placeholder=\"Password\"\n                data-toggle=\"password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                style={{ padding: \"20px\" }}\n              />\n            </div>\n            <div className=\"form-group col-12\">\n              <button\n                type=\"submit\"\n                className=\"btn btn-primary btn-block submitbutton\"\n                id=\"submitButton\"\n                style={{ padding: \"10px\" }}\n              >\n                Login\n              </button>\n            </div>\n            <div\n              style={{\n                textAlign: \"center\",\n                fontWeight: \"bolder\",\n                color: \"grey\",\n              }}\n            >\n              <a>Forgot password?</a>\n              <br />\n              <br />\n              Don't have an account?{\" \"}\n              <Link href=\"/auth/signup\">\n                <a id=\"signup\">Sign Up</a>\n              </Link>\n            </div>\n          </form>\n        </div>\n      </Layout>\n    </>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}