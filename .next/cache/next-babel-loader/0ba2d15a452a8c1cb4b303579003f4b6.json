{"ast":null,"code":"var _jsxFileName = \"/home/james/Documents/dev/cp-fe/pages/auth/confirmaccount.tsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport { useRouter } from \"next/router\";\n\nconst ConfirmAccount = () => {\n  const {\n    0: code1,\n    1: setCode1\n  } = useState(\"\");\n  const {\n    0: code2,\n    1: setCode2\n  } = useState(\"\");\n  const {\n    0: code3,\n    1: setCode3\n  } = useState(\"\");\n  const {\n    0: code4,\n    1: setCode4\n  } = useState(\"\");\n  const {\n    0: show,\n    1: setShow\n  } = useState(false);\n  const {\n    0: prompt_title,\n    1: setPromptTitle\n  } = useState(\"\");\n  const {\n    0: prompt_body,\n    1: setPromptBody\n  } = useState(\"\");\n  const {\n    0: link_to,\n    1: setLinkTo\n  } = useState(\"\");\n  const {\n    0: link_text,\n    1: setLinkText\n  } = useState(\"\");\n  const router = useRouter();\n\n  const handleClose = () => setShow(false);\n\n  const callPrompt = (title, link, link_text, message) => {\n    setShow(true);\n    setPromptTitle(title);\n    setLinkText(link_text);\n    setLinkTo(link);\n    setPromptBody(message);\n  };\n\n  const submitCode = async () => {\n    try {\n      const rs = await axios.post(\"http://51.116.114.155:8080/auth/keyinput/\", {\n        integer_key: parseInt(`${code1}${code2}${code3}${code4}`)\n      });\n      console.log(rs);\n      setPromptBody(\"Verification successful\");\n      setLinkTo(\"login\");\n      setLinkText(\"Login\");\n      setShow(true);\n      callPrompt(\"Verification\", \"/auth/login\", \"Login\", \"Verification successful\");\n    } catch (e) {\n      console.log(e);\n      setPromptBody(\"Verification failed\");\n      setLinkTo(\"login\");\n      setLinkText(\"\");\n      setShow(true);\n      callPrompt(\"Verification\", \"/auth/confirmaccount\", \"Verification Account\", \"Verification failed\");\n    }\n  };\n\n  return __jsx(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 10\n    }\n  }, \"Confirm\");\n};\n\nexport default ConfirmAccount;","map":{"version":3,"sources":["/home/james/Documents/dev/cp-fe/pages/auth/confirmaccount.tsx"],"names":["useState","axios","useRouter","ConfirmAccount","code1","setCode1","code2","setCode2","code3","setCode3","code4","setCode4","show","setShow","prompt_title","setPromptTitle","prompt_body","setPromptBody","link_to","setLinkTo","link_text","setLinkText","router","handleClose","callPrompt","title","link","message","submitCode","rs","post","integer_key","parseInt","console","log","e"],"mappings":";;;AAEA,SAASA,QAAT,QAAyB,OAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,QAA0B,aAA1B;;AAIA,MAAMC,cAAc,GAAG,MAAM;AAC3B,QAAM;AAAA,OAACC,KAAD;AAAA,OAAQC;AAAR,MAAoBL,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM;AAAA,OAACM,KAAD;AAAA,OAAQC;AAAR,MAAoBP,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM;AAAA,OAACQ,KAAD;AAAA,OAAQC;AAAR,MAAoBT,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM;AAAA,OAACU,KAAD;AAAA,OAAQC;AAAR,MAAoBX,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM;AAAA,OAACY,IAAD;AAAA,OAAOC;AAAP,MAAkBb,QAAQ,CAAC,KAAD,CAAhC;AACA,QAAM;AAAA,OAACc,YAAD;AAAA,OAAeC;AAAf,MAAiCf,QAAQ,CAAC,EAAD,CAA/C;AACA,QAAM;AAAA,OAACgB,WAAD;AAAA,OAAcC;AAAd,MAA+BjB,QAAQ,CAAC,EAAD,CAA7C;AACA,QAAM;AAAA,OAACkB,OAAD;AAAA,OAAUC;AAAV,MAAuBnB,QAAQ,CAAC,EAAD,CAArC;AACA,QAAM;AAAA,OAACoB,SAAD;AAAA,OAAYC;AAAZ,MAA2BrB,QAAQ,CAAC,EAAD,CAAzC;AAEA,QAAMsB,MAAM,GAAGpB,SAAS,EAAxB;;AAEA,QAAMqB,WAAW,GAAG,MAAMV,OAAO,CAAC,KAAD,CAAjC;;AAEA,QAAMW,UAAU,GAAG,CACjBC,KADiB,EAEjBC,IAFiB,EAGjBN,SAHiB,EAIjBO,OAJiB,KAKd;AACHd,IAAAA,OAAO,CAAC,IAAD,CAAP;AACAE,IAAAA,cAAc,CAACU,KAAD,CAAd;AACAJ,IAAAA,WAAW,CAACD,SAAD,CAAX;AACAD,IAAAA,SAAS,CAACO,IAAD,CAAT;AACAT,IAAAA,aAAa,CAACU,OAAD,CAAb;AACD,GAXD;;AAaA,QAAMC,UAAU,GAAG,YAAY;AAC7B,QAAI;AACF,YAAMC,EAAO,GAAG,MAAM5B,KAAK,CAAC6B,IAAN,CACpB,2CADoB,EAEpB;AACEC,QAAAA,WAAW,EAAEC,QAAQ,CAAE,GAAE5B,KAAM,GAAEE,KAAM,GAAEE,KAAM,GAAEE,KAAM,EAAlC;AADvB,OAFoB,CAAtB;AAMAuB,MAAAA,OAAO,CAACC,GAAR,CAAYL,EAAZ;AACAZ,MAAAA,aAAa,CAAC,yBAAD,CAAb;AACAE,MAAAA,SAAS,CAAC,OAAD,CAAT;AACAE,MAAAA,WAAW,CAAC,OAAD,CAAX;AACAR,MAAAA,OAAO,CAAC,IAAD,CAAP;AACAW,MAAAA,UAAU,CACR,cADQ,EAER,aAFQ,EAGR,OAHQ,EAIR,yBAJQ,CAAV;AAMD,KAlBD,CAkBE,OAAOW,CAAP,EAAU;AACVF,MAAAA,OAAO,CAACC,GAAR,CAAYC,CAAZ;AACAlB,MAAAA,aAAa,CAAC,qBAAD,CAAb;AACAE,MAAAA,SAAS,CAAC,OAAD,CAAT;AACAE,MAAAA,WAAW,CAAC,EAAD,CAAX;AACAR,MAAAA,OAAO,CAAC,IAAD,CAAP;AACAW,MAAAA,UAAU,CACR,cADQ,EAER,sBAFQ,EAGR,sBAHQ,EAIR,qBAJQ,CAAV;AAMD;AACF,GAhCD;;AAkCA,SAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAP;AACD,CA/DD;;AAiEA,eAAerB,cAAf","sourcesContent":["import Button from \"react-bootstrap/Button\";\nimport Link from \"next/link\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport { useRouter } from \"next/router\";\nimport Prompt from \"../../components/Prompt\";\nimport AuthHeader from \"../../components/auth/AuthHeader\";\n\nconst ConfirmAccount = () => {\n  const [code1, setCode1] = useState(\"\");\n  const [code2, setCode2] = useState(\"\");\n  const [code3, setCode3] = useState(\"\");\n  const [code4, setCode4] = useState(\"\");\n  const [show, setShow] = useState(false);\n  const [prompt_title, setPromptTitle] = useState(\"\");\n  const [prompt_body, setPromptBody] = useState(\"\");\n  const [link_to, setLinkTo] = useState(\"\");\n  const [link_text, setLinkText] = useState(\"\");\n\n  const router = useRouter();\n\n  const handleClose = () => setShow(false);\n\n  const callPrompt = (\n    title: string,\n    link: string,\n    link_text: string,\n    message: string\n  ) => {\n    setShow(true);\n    setPromptTitle(title);\n    setLinkText(link_text);\n    setLinkTo(link);\n    setPromptBody(message);\n  };\n\n  const submitCode = async () => {\n    try {\n      const rs: any = await axios.post(\n        \"http://51.116.114.155:8080/auth/keyinput/\",\n        {\n          integer_key: parseInt(`${code1}${code2}${code3}${code4}`),\n        }\n      );\n      console.log(rs);\n      setPromptBody(\"Verification successful\");\n      setLinkTo(\"login\");\n      setLinkText(\"Login\");\n      setShow(true);\n      callPrompt(\n        \"Verification\",\n        \"/auth/login\",\n        \"Login\",\n        \"Verification successful\"\n      );\n    } catch (e) {\n      console.log(e);\n      setPromptBody(\"Verification failed\");\n      setLinkTo(\"login\");\n      setLinkText(\"\");\n      setShow(true);\n      callPrompt(\n        \"Verification\",\n        \"/auth/confirmaccount\",\n        \"Verification Account\",\n        \"Verification failed\"\n      );\n    }\n  };\n\n  return <h4>Confirm</h4>;\n};\n\nexport default ConfirmAccount;\n"]},"metadata":{},"sourceType":"module"}