{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"/home/james/Documents/dev/cp-fe/pages/auth/confirmaccount.tsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect, useRef } from \"react\";\nimport axios from \"axios\";\nimport { useRouter } from \"next/router\";\nimport Prompt from \"../../components/Prompt\";\nimport Head from \"next/head\";\n\nvar ConfirmAccount = function ConfirmAccount() {\n  _s();\n\n  var _useState = useState(\"\"),\n      code1 = _useState[0],\n      setCode1 = _useState[1];\n\n  var _useState2 = useState(\"\"),\n      code2 = _useState2[0],\n      setCode2 = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      code3 = _useState3[0],\n      setCode3 = _useState3[1];\n\n  var _useState4 = useState(\"\"),\n      code4 = _useState4[0],\n      setCode4 = _useState4[1];\n\n  var _useState5 = useState(false),\n      show = _useState5[0],\n      setShow = _useState5[1];\n\n  var _useState6 = useState(\"\"),\n      prompt_title = _useState6[0],\n      setPromptTitle = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      prompt_body = _useState7[0],\n      setPromptBody = _useState7[1];\n\n  var _useState8 = useState(\"\"),\n      link_to = _useState8[0],\n      setLinkTo = _useState8[1];\n\n  var _useState9 = useState(\"\"),\n      link_text = _useState9[0],\n      setLinkText = _useState9[1];\n\n  var _useState10 = useState(60),\n      countDown = _useState10[0],\n      setCountDown = _useState10[1];\n\n  var code2Ref = useRef(null);\n  var code3Ref = useRef(null);\n  var code4Ref = useRef(null);\n  var submitBtnRef = useRef(null);\n  var router = useRouter();\n\n  var handleClose = function handleClose() {\n    return setShow(false);\n  }; // const autotab = (current, to) => {\n  //   if (\n  //     current.getAttribute &&\n  //     current.value.length == current.getAttribute(\"maxlength\")\n  //   ) {\n  //     to.focus();\n  //   }\n  // };\n\n\n  function countdown(minutes) {\n    var seconds = 60;\n    var mins = minutes;\n\n    function tick() {\n      //This script expects an element with an ID = \"counter\". You can change that to what ever you want.\n      var current_minutes = mins - 1;\n      seconds--;\n      var cnt = current_minutes.toString() + \":\" + (seconds < 10 ? \"0\" : \"\") + String(seconds);\n\n      if (seconds > 0) {\n        setTimeout(tick, 1000);\n      } else if (mins > 1) {\n        countdown(mins - 1);\n      }\n\n      setCountDown(cnt);\n    }\n\n    tick();\n  }\n\n  var callPrompt = function callPrompt(title, link, link_text, message) {\n    if (show) setShow(false);\n    setShow(true);\n    setPromptTitle(title);\n    setLinkText(link_text);\n    setLinkTo(link);\n    setPromptBody(message);\n  };\n\n  var submitCode = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var rs;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              _context.prev = 1;\n              _context.next = 4;\n              return axios.post(\"http://51.116.114.155:8080/auth/keyinput/\", {\n                integer_key: parseInt(\"\".concat(code1).concat(code2).concat(code3).concat(code4))\n              });\n\n            case 4:\n              rs = _context.sent;\n              console.log(rs);\n              callPrompt(\"Verification\", \"/auth/login\", \"Login\", \"Verification successful\");\n              _context.next = 13;\n              break;\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](1);\n              console.log(_context.t0);\n              callPrompt(\"Verification\", \"\", \"Close\", \"Verification failed\");\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 9]]);\n    }));\n\n    return function submitCode(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    if (countDown == 60) countdown(1), [];\n  });\n  return __jsx(React.Fragment, null, __jsx(Head, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }\n  }, __jsx(\"meta\", {\n    name: \"viewport\",\n    content: \"width=device-width, initial-scale=1.0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  }), __jsx(\"link\", {\n    rel: \"stylesheet\",\n    href: \"https://fonts.googleapis.com/icon?family=Material+Icons\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }\n  }), __jsx(\"title\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }\n  }, \"Account Verification\"), __jsx(\"link\", {\n    rel: \"stylesheet\",\n    href: \"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\",\n    integrity: \"sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u\",\n    crossOrigin: \"anonymous\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }\n  }), __jsx(\"script\", {\n    type: \"text/javascript\",\n    src: \"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 9\n    }\n  }), __jsx(\"script\", {\n    type: \"text/javascript\",\n    src: \"https://cdnjs.cloudflare.com/ajax/libs/bootstrap-show-password/1.0.3/bootstrap-show-password.min.js\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }\n  }), __jsx(\"link\", {\n    rel: \"stylesheet\",\n    href: \"/account_verification.css\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }\n  })), __jsx(Prompt, {\n    title: prompt_title,\n    linkTo: link_to,\n    linkText: link_text,\n    show: show,\n    success: link_to.length > 0 ? true : false,\n    handleClose: handleClose,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }\n  }, __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 9\n    }\n  }, prompt_body)), __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"navbar\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 11\n    }\n  }, __jsx(\"img\", {\n    className: \"logo\",\n    src: \"/images/Logo.png\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 13\n    }\n  }))), __jsx(\"div\", {\n    className: \"content\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    style: {\n      textAlign: \"center\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 13\n    }\n  }, __jsx(\"h3\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 15\n    }\n  }, __jsx(\"b\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 17\n    }\n  }, \"Enter code for\", __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 19\n    }\n  }), \"verification\"))), __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 13\n    }\n  })), __jsx(\"div\", {\n    className: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 11\n    }\n  }, __jsx(\"form\", {\n    onSubmit: submitCode,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"form-group\",\n    style: {\n      textAlign: \"center\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    id: \"form\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 17\n    }\n  }, __jsx(\"input\", {\n    type: \"text\",\n    className: \"codebox\",\n    id: \"code1\",\n    maxLength: 1,\n    size: 1,\n    min: 0,\n    max: 9,\n    pattern: \"[0-9]{1}\",\n    value: code1,\n    onChange: function onChange(e) {\n      return setCode1(e.target.value);\n    },\n    onKeyUp: function onKeyUp() {\n      return code2Ref.current.focus();\n    },\n    style: {\n      textAlign: \"center\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 19\n    }\n  }), __jsx(\"input\", {\n    type: \"text\",\n    className: \"codebox\",\n    id: \"code2\",\n    maxLength: 1,\n    size: 1,\n    min: 0,\n    max: 9,\n    pattern: \"[0-9]{1}\",\n    value: code2,\n    onChange: function onChange(e) {\n      return setCode2(e.target.value);\n    },\n    style: {\n      textAlign: \"center\"\n    },\n    ref: code2Ref,\n    onKeyUp: function onKeyUp() {\n      return code3Ref.current.focus();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 19\n    }\n  }), __jsx(\"input\", {\n    type: \"text\",\n    className: \"codebox\",\n    id: \"code3\",\n    maxLength: 1,\n    size: 1,\n    min: 0,\n    max: 9,\n    pattern: \"[0-9]{1}\",\n    value: code3,\n    onChange: function onChange(e) {\n      return setCode3(e.target.value);\n    },\n    style: {\n      textAlign: \"center\"\n    },\n    ref: code3Ref,\n    onKeyUp: function onKeyUp() {\n      return code4Ref.current.focus();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 19\n    }\n  }), __jsx(\"input\", {\n    type: \"text\",\n    className: \"codebox\",\n    id: \"code4\",\n    maxLength: 1,\n    size: 1,\n    min: 0,\n    max: 9,\n    pattern: \"[0-9]{1}\",\n    value: code4,\n    onChange: function onChange(e) {\n      return setCode4(e.target.value);\n    },\n    style: {\n      textAlign: \"center\"\n    },\n    ref: code4Ref,\n    onKeyUp: function onKeyUp() {\n      return submitBtnRef.current.focus();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 19\n    }\n  })), __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 17\n    }\n  }), __jsx(\"div\", {\n    style: {\n      textAlign: \"center\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 17\n    }\n  }, __jsx(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-primary\",\n    id: \"continue\",\n    ref: submitBtnRef,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 19\n    }\n  }, \"Continue\")), __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 17\n    }\n  }), __jsx(\"div\", {\n    style: {\n      textAlign: \"center\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 17\n    }\n  }, \"If you don't recieve the code within\", __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 19\n    }\n  }), \"1mins, click below to re-send it.\"), __jsx(\"div\", {\n    style: {\n      marginTop: 15\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 17\n    }\n  }, __jsx(\"button\", {\n    className: \"re-sendbtn\",\n    id: \"re-send_code\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 19\n    }\n  }, \"Resend Code\", __jsx(\"i\", {\n    className: \"material-icons\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 32\n    }\n  }, \"refresh\")), countDown)))))), __jsx(\"script\", {\n    type: \"text/javascript\",\n    src: \"/js/a.js\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 7\n    }\n  }));\n};\n\n_s(ConfirmAccount, \"/5ul7kIZd8kTE3n1YtYWd3fJvQY=\", false, function () {\n  return [useRouter];\n});\n\n_c = ConfirmAccount;\nexport default ConfirmAccount;\n\nvar _c;\n\n$RefreshReg$(_c, \"ConfirmAccount\");","map":{"version":3,"sources":["/home/james/Documents/dev/cp-fe/pages/auth/confirmaccount.tsx"],"names":["useState","useEffect","useRef","axios","useRouter","Prompt","Head","ConfirmAccount","code1","setCode1","code2","setCode2","code3","setCode3","code4","setCode4","show","setShow","prompt_title","setPromptTitle","prompt_body","setPromptBody","link_to","setLinkTo","link_text","setLinkText","countDown","setCountDown","code2Ref","code3Ref","code4Ref","submitBtnRef","router","handleClose","countdown","minutes","seconds","mins","tick","current_minutes","cnt","toString","String","setTimeout","callPrompt","title","link","message","submitCode","e","preventDefault","post","integer_key","parseInt","rs","console","log","length","textAlign","target","value","current","focus","marginTop"],"mappings":"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","sourcesContent":["import Button from \"react-bootstrap/Button\";\nimport Link from \"next/link\";\nimport { useState, FormEvent, useEffect, useRef } from \"react\";\nimport axios from \"axios\";\nimport { useRouter } from \"next/router\";\nimport Prompt from \"../../components/Prompt\";\nimport AuthHeader from \"../../components/auth/AuthHeader\";\nimport Head from \"next/head\";\n\nconst ConfirmAccount = () => {\n  const [code1, setCode1] = useState(\"\");\n  const [code2, setCode2] = useState(\"\");\n  const [code3, setCode3] = useState(\"\");\n  const [code4, setCode4] = useState(\"\");\n  const [show, setShow] = useState(false);\n  const [prompt_title, setPromptTitle] = useState(\"\");\n  const [prompt_body, setPromptBody] = useState(\"\");\n  const [link_to, setLinkTo] = useState(\"\");\n  const [link_text, setLinkText] = useState(\"\");\n  const [countDown, setCountDown] = useState(60);\n\n  const code2Ref = useRef(null);\n  const code3Ref = useRef(null);\n  const code4Ref = useRef(null);\n  const submitBtnRef = useRef(null);\n\n  const router = useRouter();\n\n  const handleClose = () => setShow(false);\n\n  // const autotab = (current, to) => {\n  //   if (\n  //     current.getAttribute &&\n  //     current.value.length == current.getAttribute(\"maxlength\")\n  //   ) {\n  //     to.focus();\n  //   }\n  // };\n\n  function countdown(minutes) {\n    var seconds = 60;\n    var mins = minutes;\n\n    function tick() {\n      //This script expects an element with an ID = \"counter\". You can change that to what ever you want.\n\n      var current_minutes = mins - 1;\n      seconds--;\n      const cnt: any =\n        current_minutes.toString() +\n        \":\" +\n        (seconds < 10 ? \"0\" : \"\") +\n        String(seconds);\n      if (seconds > 0) {\n        setTimeout(tick, 1000);\n      } else if (mins > 1) {\n        countdown(mins - 1);\n      }\n      setCountDown(cnt);\n    }\n    tick();\n  }\n\n  const callPrompt = (\n    title: string,\n    link: string,\n    link_text: string,\n    message: string\n  ) => {\n    if (show) setShow(false);\n    setShow(true);\n    setPromptTitle(title);\n    setLinkText(link_text);\n    setLinkTo(link);\n    setPromptBody(message);\n  };\n\n  const submitCode = async (e: FormEvent) => {\n    e.preventDefault();\n    try {\n      const rs: any = await axios.post(\n        \"http://51.116.114.155:8080/auth/keyinput/\",\n        {\n          integer_key: parseInt(`${code1}${code2}${code3}${code4}`),\n        }\n      );\n      console.log(rs);\n      callPrompt(\n        \"Verification\",\n        \"/auth/login\",\n        \"Login\",\n        \"Verification successful\"\n      );\n    } catch (e) {\n      console.log(e);\n      callPrompt(\"Verification\", \"\", \"Close\", \"Verification failed\");\n    }\n  };\n\n  useEffect(() => {\n    if (countDown == 60) countdown(1), [];\n  });\n  return (\n    <>\n      <Head>\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n        <link\n          rel=\"stylesheet\"\n          href=\"https://fonts.googleapis.com/icon?family=Material+Icons\"\n        />\n        <title>Account Verification</title>\n        <link\n          rel=\"stylesheet\"\n          href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\"\n          integrity=\"sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u\"\n          crossOrigin=\"anonymous\"\n        />\n        <script\n          type=\"text/javascript\"\n          src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js\"\n        ></script>\n        <script\n          type=\"text/javascript\"\n          src=\"https://cdnjs.cloudflare.com/ajax/libs/bootstrap-show-password/1.0.3/bootstrap-show-password.min.js\"\n        ></script>\n\n        <link rel=\"stylesheet\" href=\"/account_verification.css\" />\n      </Head>\n      <Prompt\n        title={prompt_title}\n        linkTo={link_to}\n        linkText={link_text}\n        show={show}\n        success={link_to.length > 0 ? true : false}\n        handleClose={handleClose}\n      >\n        <p>{prompt_body}</p>\n      </Prompt>\n      <div>\n        <div className=\"row\">\n          <div className=\"navbar\">\n            <img className=\"logo\" src=\"/images/Logo.png\" />\n          </div>\n        </div>\n        <div className=\"content\">\n          <div style={{ textAlign: \"center\" }}>\n            <div>\n              <h3>\n                <b>\n                  Enter code for\n                  <br />\n                  verification\n                </b>\n              </h3>\n            </div>\n            <br />\n          </div>\n          <div className=\"row\">\n            <form onSubmit={submitCode}>\n              <div className=\"form-group\" style={{ textAlign: \"center\" }}>\n                <div id=\"form\">\n                  <input\n                    type=\"text\"\n                    className=\"codebox\"\n                    id=\"code1\"\n                    maxLength={1}\n                    size={1}\n                    min={0}\n                    max={9}\n                    pattern=\"[0-9]{1}\"\n                    value={code1}\n                    onChange={(e) => setCode1(e.target.value)}\n                    onKeyUp={() => code2Ref.current.focus()}\n                    style={{\n                      textAlign: \"center\",\n                    }}\n                  />\n                  <input\n                    type=\"text\"\n                    className=\"codebox\"\n                    id=\"code2\"\n                    maxLength={1}\n                    size={1}\n                    min={0}\n                    max={9}\n                    pattern=\"[0-9]{1}\"\n                    value={code2}\n                    onChange={(e) => setCode2(e.target.value)}\n                    style={{\n                      textAlign: \"center\",\n                    }}\n                    ref={code2Ref}\n                    onKeyUp={() => code3Ref.current.focus()}\n                  />\n                  <input\n                    type=\"text\"\n                    className=\"codebox\"\n                    id=\"code3\"\n                    maxLength={1}\n                    size={1}\n                    min={0}\n                    max={9}\n                    pattern=\"[0-9]{1}\"\n                    value={code3}\n                    onChange={(e) => setCode3(e.target.value)}\n                    style={{\n                      textAlign: \"center\",\n                    }}\n                    ref={code3Ref}\n                    onKeyUp={() => code4Ref.current.focus()}\n                  />\n                  <input\n                    type=\"text\"\n                    className=\"codebox\"\n                    id=\"code4\"\n                    maxLength={1}\n                    size={1}\n                    min={0}\n                    max={9}\n                    pattern=\"[0-9]{1}\"\n                    value={code4}\n                    onChange={(e) => setCode4(e.target.value)}\n                    style={{\n                      textAlign: \"center\",\n                    }}\n                    ref={code4Ref}\n                    onKeyUp={() => submitBtnRef.current.focus()}\n                  />\n                </div>\n                <br />\n                <div style={{ textAlign: \"center\" }}>\n                  <button\n                    type=\"submit\"\n                    className=\"btn btn-primary\"\n                    id=\"continue\"\n                    ref={submitBtnRef}\n                  >\n                    Continue\n                  </button>\n                </div>\n                <br />\n                <div style={{ textAlign: \"center\" }}>\n                  If you don't recieve the code within\n                  <br />\n                  1mins, click below to re-send it.\n                </div>\n                <div style={{ marginTop: 15 }}>\n                  <button className=\"re-sendbtn\" id=\"re-send_code\">\n                    Resend Code<i className=\"material-icons\">refresh</i>\n                  </button>\n                  {countDown}\n                </div>\n                {/* <table className=\"cell\" style={{ width: \"100%\" }}>\n                  <tbody>\n                    <tr>\n                      <td style={{ width: \"75%\" }}>\n                        <button className=\"re-sendbtn\" id=\"re-send_code\">\n                          Resend Code<i className=\"material-icons\">refresh</i>\n                        </button>\n                      </td>\n                      <td style={{ textAlign: \"start\" }} id=\"counter\">\n                        {\" \"}\n                        {countDown}\n                      </td>\n                    </tr>\n                  </tbody>\n                </table> */}\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n\n      <script type=\"text/javascript\" src=\"/js/a.js\"></script>\n    </>\n  );\n};\n\nexport default ConfirmAccount;\n"]},"metadata":{},"sourceType":"module"}