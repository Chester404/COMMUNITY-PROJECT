{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"/home/james/Documents/dev/cp-fe/pages/auth/login.tsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Head from \"next/head\";\nimport Link from \"next/link\";\nimport { useState, useEffect } from \"react\";\nimport { Auth } from \"../../lib/endpoints\";\nimport { useRouter } from \"next/router\";\nimport Prompt from \"../../components/Prompt\";\n\nvar Login = function Login() {\n  _s();\n\n  var _useState = useState(\"\"),\n      authentication_property = _useState[0],\n      setAuthenticationProperty = _useState[1];\n\n  var _useState2 = useState(\"\"),\n      password = _useState2[0],\n      setPassword = _useState2[1];\n\n  var _useState3 = useState(false),\n      show = _useState3[0],\n      setShow = _useState3[1];\n\n  var _useState4 = useState(\"\"),\n      prompt_title = _useState4[0],\n      setPromptTitle = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      prompt_body = _useState5[0],\n      setPromptBody = _useState5[1];\n\n  var _useState6 = useState(\"\"),\n      link_to = _useState6[0],\n      setLinkTo = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      link_text = _useState7[0],\n      setLinkText = _useState7[1];\n\n  var handleClose = function handleClose() {\n    return setShow(false);\n  };\n\n  var callPrompt = function callPrompt(title, link, link_text, message) {\n    setShow(true);\n    setPromptTitle(title);\n    setLinkText(link_text);\n    setLinkTo(link);\n    setPromptBody(message);\n  };\n\n  var router = useRouter();\n\n  var authenticate = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              setShow(false);\n              setShow(true);\n              callPrompt(\"Sign Up\", \"/user/profile\", \"Go tp Profile\", \"Please check your credentials and try again.\");\n              return _context.abrupt(\"return\");\n\n            case 8:\n              response = _context.sent;\n\n              if (response.status === 200) {\n                window.localStorage.setItem(\"cp-a\", JSON.stringify(response.data));\n                router.push(\"/blog\");\n              }\n\n              _context.next = 15;\n              break;\n\n            case 12:\n              _context.prev = 12;\n              _context.t0 = _context[\"catch\"](5);\n\n              if (_context.t0.message === \"Request failed with status code 401\") {\n                // bad credentials\n                callPrompt(\"Sign Up\", \"\", \"Close\", \"Please check your credentials and try again.\");\n              } else if (_context.t0.message === \"Request failed with status code 404\") {\n                // bad endpoint\n                callPrompt(\"Sign Up\", \"\", \"Close\", \"Request failed\");\n              } else if (_context.t0.message === \"Network Error\") {\n                // bad network connection\n                callPrompt(\"Sign Up\", \"\", \"Close\", \"Please check your network connection and try again.\");\n              }\n\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[5, 12]]);\n    }));\n\n    return function authenticate(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    var body = document.body;\n    body.classList.add(\"parent\");\n  }, []);\n  return __jsx(React.Fragment, null, __jsx(Head, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }, __jsx(\"meta\", {\n    name: \"viewport\",\n    content: \"width=device-width, initial-scale=1.0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }), __jsx(\"link\", {\n    rel: \"stylesheet\",\n    href: \"https://fonts.googleapis.com/icon?family=Material+Icons\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }), __jsx(\"title\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, \"Login\"), __jsx(\"link\", {\n    rel: \"stylesheet\",\n    href: \"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\",\n    integrity: \"sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u\",\n    crossOrigin: \"anonymous\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }), __jsx(\"script\", {\n    type: \"text/javascript\",\n    src: \"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }), __jsx(\"script\", {\n    type: \"text/javascript\",\n    src: \"https://cdnjs.cloudflare.com/ajax/libs/bootstrap-show-password/1.0.3/bootstrap-show-password.min.js\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }), __jsx(\"link\", {\n    rel: \"stylesheet\",\n    type: \"text/css\",\n    href: \"/login.css\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  })), __jsx(Prompt, {\n    title: prompt_title,\n    linkTo: link_to,\n    linkText: link_text,\n    show: show,\n    success: link_to.length > 0 ? true : false,\n    handleClose: handleClose,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }\n  }, __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }\n  }, prompt_body)), __jsx(\"div\", {\n    className: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"navbar\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }\n  }, __jsx(\"img\", {\n    className: \"logo\",\n    src: \"/images/Logo.png\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 11\n    }\n  }))), __jsx(\"div\", {\n    className: \"content\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    style: {\n      textAlign: \"center\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 11\n    }\n  }, __jsx(\"h3\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }\n  }, __jsx(\"b\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 15\n    }\n  }, \"Login\"))), __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 11\n    }\n  })), __jsx(\"div\", {\n    className: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 9\n    }\n  }, __jsx(\"form\", {\n    className: \"needs-validation\",\n    noValidate: true,\n    onSubmit: authenticate,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"form-group\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 13\n    }\n  }, __jsx(\"label\", {\n    htmlFor: \"email\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 15\n    }\n  }, \"Email / Phone Number\"), __jsx(\"input\", {\n    type: \"email\",\n    className: \"form-control textbox\",\n    id: \"InputEmail\",\n    placeholder: \"Please enter a valid email or phone number\",\n    value: authentication_property,\n    onChange: function onChange(e) {\n      return setAuthenticationProperty(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 15\n    }\n  })), __jsx(\"div\", {\n    className: \"form-group\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 13\n    }\n  }, __jsx(\"label\", {\n    htmlFor: \"exampleInputPassword1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 15\n    }\n  }, \"Password\"), __jsx(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 15\n    }\n  }, __jsx(\"input\", {\n    type: \"password\",\n    className: \"form-control textbox\",\n    id: \"InputPassword1\",\n    placeholder: \"Password must be at least 8 characters\",\n    \"data-toggle\": \"password\",\n    value: password,\n    onChange: function onChange(e) {\n      return setPassword(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 17\n    }\n  }))), __jsx(\"div\", {\n    style: {\n      textAlign: \"center\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 13\n    }\n  }, __jsx(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-primary btn-block\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 15\n    }\n  }, \"Login\")), __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 13\n    }\n  }), __jsx(\"div\", {\n    style: {\n      textAlign: \"center\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 15\n    }\n  }, __jsx(\"a\", {\n    href: \"#\",\n    className: \"texthover\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 17\n    }\n  }, \"Forgot Password?\")), __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 15\n    }\n  }), __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 15\n    }\n  }, \"Don't have an account?\", \" \", __jsx(Link, {\n    href: \"/auth/signup\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 17\n    }\n  }, __jsx(\"a\", {\n    className: \"signuptext\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 19\n    }\n  }, __jsx(\"b\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 21\n    }\n  }, \"Sign Up\")))))))), __jsx(\"script\", {\n    type: \"text/javascript\",\n    src: \"/js/a.js\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 7\n    }\n  }), __jsx(\"script\", {\n    src: \"https://kit.fontawesome.com/3303a2a495.js\",\n    crossOrigin: \"anonymous\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 7\n    }\n  }));\n};\n\n_s(Login, \"BBSLMmYnUCkSGgj2Fwn3lBRtWtI=\", false, function () {\n  return [useRouter];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/home/james/Documents/dev/cp-fe/pages/auth/login.tsx"],"names":["Head","Link","useState","useEffect","Auth","useRouter","Prompt","Login","authentication_property","setAuthenticationProperty","password","setPassword","show","setShow","prompt_title","setPromptTitle","prompt_body","setPromptBody","link_to","setLinkTo","link_text","setLinkText","handleClose","callPrompt","title","link","message","router","authenticate","e","preventDefault","response","status","window","localStorage","setItem","JSON","stringify","data","push","body","document","classList","add","length","textAlign","target","value"],"mappings":"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","sourcesContent":["import Head from \"next/head\";\nimport Link from \"next/link\";\nimport { useState, FormEvent, useEffect } from \"react\";\nimport { Auth } from \"../../lib/endpoints\";\nimport { useRouter } from \"next/router\";\nimport Prompt from \"../../components/Prompt\";\n\nconst Login = () => {\n  const [authentication_property, setAuthenticationProperty] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [show, setShow] = useState(false);\n  const [prompt_title, setPromptTitle] = useState(\"\");\n  const [prompt_body, setPromptBody] = useState(\"\");\n  const [link_to, setLinkTo] = useState(\"\");\n  const [link_text, setLinkText] = useState(\"\");\n\n  const handleClose = () => setShow(false);\n\n  const callPrompt = (\n    title: string,\n    link: string,\n    link_text: string,\n    message: string\n  ) => {\n    setShow(true);\n    setPromptTitle(title);\n    setLinkText(link_text);\n    setLinkTo(link);\n    setPromptBody(message);\n  };\n  const router = useRouter();\n  const authenticate = async (e: FormEvent) => {\n    e.preventDefault();\n    setShow(false);\n    setShow(true);\n    callPrompt(\n      \"Sign Up\",\n      \"/user/profile\",\n      \"Go tp Profile\",\n      \"Please check your credentials and try again.\"\n    );\n    return;\n    try {\n      const response = await new Auth().login(\n        authentication_property,\n        password\n      );\n      if (response.status === 200) {\n        window.localStorage.setItem(\"cp-a\", JSON.stringify(response.data));\n        router.push(\"/blog\");\n      }\n    } catch (err) {\n      if (err.message === \"Request failed with status code 401\") {\n        // bad credentials\n        callPrompt(\n          \"Sign Up\",\n          \"\",\n          \"Close\",\n          \"Please check your credentials and try again.\"\n        );\n      } else if (err.message === \"Request failed with status code 404\") {\n        // bad endpoint\n        callPrompt(\"Sign Up\", \"\", \"Close\", \"Request failed\");\n      } else if (err.message === \"Network Error\") {\n        // bad network connection\n        callPrompt(\n          \"Sign Up\",\n          \"\",\n          \"Close\",\n          \"Please check your network connection and try again.\"\n        );\n      }\n    }\n  };\n\n  useEffect(() => {\n    var body = document.body;\n\n    body.classList.add(\"parent\");\n  }, []);\n  return (\n    <>\n      <Head>\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n        <link\n          rel=\"stylesheet\"\n          href=\"https://fonts.googleapis.com/icon?family=Material+Icons\"\n        />\n        <title>Login</title>\n        <link\n          rel=\"stylesheet\"\n          href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\"\n          integrity=\"sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u\"\n          crossOrigin=\"anonymous\"\n        />\n\n        <script\n          type=\"text/javascript\"\n          src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js\"\n        ></script>\n\n        <script\n          type=\"text/javascript\"\n          src=\"https://cdnjs.cloudflare.com/ajax/libs/bootstrap-show-password/1.0.3/bootstrap-show-password.min.js\"\n        ></script>\n        <link rel=\"stylesheet\" type=\"text/css\" href=\"/login.css\" />\n      </Head>\n      <Prompt\n        title={prompt_title}\n        linkTo={link_to}\n        linkText={link_text}\n        show={show}\n        success={link_to.length > 0 ? true : false}\n        handleClose={handleClose}\n      >\n        <p>{prompt_body}</p>\n      </Prompt>\n      <div className=\"row\">\n        <div className=\"navbar\">\n          <img className=\"logo\" src=\"/images/Logo.png\" />\n        </div>\n      </div>\n      <div className=\"content\">\n        <div style={{ textAlign: \"center\" }}>\n          <div>\n            <h3>\n              <b>Login</b>\n            </h3>\n          </div>\n          <br />\n        </div>\n        <div className=\"row\">\n          <form className=\"needs-validation\" noValidate onSubmit={authenticate}>\n            <div className=\"form-group\">\n              <label htmlFor=\"email\">Email / Phone Number</label>\n              <input\n                type=\"email\"\n                className=\"form-control textbox\"\n                id=\"InputEmail\"\n                placeholder=\"Please enter a valid email or phone number\"\n                value={authentication_property}\n                onChange={(e) => setAuthenticationProperty(e.target.value)}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"exampleInputPassword1\">Password</label>\n              <span>\n                <input\n                  type=\"password\"\n                  className=\"form-control textbox\"\n                  id=\"InputPassword1\"\n                  placeholder=\"Password must be at least 8 characters\"\n                  data-toggle=\"password\"\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                />\n              </span>\n            </div>\n            <div style={{ textAlign: \"center\" }}>\n              <button type=\"submit\" className=\"btn btn-primary btn-block\">\n                Login\n              </button>\n            </div>\n            <br />\n            <div style={{ textAlign: \"center\" }}>\n              <div>\n                <a href=\"#\" className=\"texthover\">\n                  Forgot Password?\n                </a>\n              </div>\n              <br />\n              <div>\n                Don't have an account?{\" \"}\n                <Link href=\"/auth/signup\">\n                  <a className=\"signuptext\">\n                    <b>Sign Up</b>\n                  </a>\n                </Link>\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n\n      <script type=\"text/javascript\" src=\"/js/a.js\"></script>\n      <script\n        src=\"https://kit.fontawesome.com/3303a2a495.js\"\n        crossOrigin=\"anonymous\"\n      ></script>\n    </>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}