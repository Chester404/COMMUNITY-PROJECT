{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport Layout from \"../../components/Layout\";\nimport Head from \"next/head\";\nimport Button from \"react-bootstrap/Button\";\nimport Link from \"next/link\";\nimport { useState, createRef } from \"react\";\nimport axios from \"axios\";\nimport { useRouter } from \"next/router\";\nimport Prompt from \"../../components/Prompt\";\n\nconst ConfirmAccount = () => {\n  const {\n    0: code,\n    1: setCode\n  } = useState(\"\");\n  const myRef = createRef;\n  const {\n    0: code1,\n    1: setCode1\n  } = useState(\"\");\n  const {\n    0: code2,\n    1: setCode2\n  } = useState(\"\");\n  const {\n    0: code3,\n    1: setCode3\n  } = useState(\"\");\n  const {\n    0: code4,\n    1: setCode4\n  } = useState(\"\");\n  const {\n    0: promptBody,\n    1: setPromptBody\n  } = useState(\"\");\n  const {\n    0: linkTo,\n    1: setLinkTo\n  } = useState(null);\n  const {\n    0: linkText,\n    1: setLinkText\n  } = useState(null);\n  const {\n    0: show,\n    1: setShow\n  } = useState(false);\n  const router = useRouter();\n\n  const handleClose = () => setShow(false);\n\n  const handleShow = () => setShow(true);\n\n  const autotab = (current, to) => {\n    if (current.getAttribute && current.value.length == current.getAttribute(\"maxlength\")) {\n      to.focus();\n    }\n  };\n\n  const submitCode = async () => {\n    try {\n      const rs = await axios.post(\"http://51.116.114.155:8080/auth/keyinput/\", {\n        integer_key: parseInt(`${code1}${code2}${code3}${code4}`)\n      });\n      console.log(rs);\n      setPromptBody(\"Verification successful\");\n      setLinkTo(\"login\");\n      setLinkText(\"Login\");\n      setShow(true);\n    } catch (e) {\n      console.log(e);\n      setPromptBody(\"Verification failed\");\n      setLinkTo(\"login\");\n      setLinkText(\"\");\n      setShow(true);\n    }\n  };\n\n  return __jsx(React.Fragment, null, __jsx(Layout, null, __jsx(Head, null, __jsx(\"link\", {\n    rel: \"stylesheet\",\n    type: \"text/css\",\n    href: \"/auth.css\"\n  })), __jsx(Prompt // body={`A confirmation has been sent to your email. Please retrieve the code and\n  // confirm acount`}\n  , {\n    title: \"Verification\",\n    linkTo: linkTo,\n    linkText: linkText,\n    show: show,\n    handleClose: handleClose\n  }, __jsx(\"p\", null, promptBody)), __jsx(\"div\", {\n    className: \"wrapper\",\n    style: {\n      margin: \"70px 0\"\n    }\n  }, __jsx(\"div\", {\n    className: \"row\",\n    style: {\n      margin: \"0 40px\"\n    }\n  }, __jsx(\"div\", {\n    className: \"col-12\",\n    style: {\n      textAlign: \"center\",\n      alignContent: \"center\",\n      alignItems: \"center\"\n    }\n  }, __jsx(\"div\", {\n    style: {\n      fontSize: 30,\n      fontWeight: \"bolder\",\n      margin: 0,\n      padding: 0\n    }\n  }, \"Enter code for\"), __jsx(\"div\", {\n    style: {\n      fontSize: 30,\n      fontWeight: \"bolder\",\n      margin: 0,\n      padding: 0\n    }\n  }, \"verification\"), __jsx(\"form\", {\n    name: \"confirmation_code\",\n    style: {\n      width: \"100%\",\n      marginTop: 40\n    }\n  }, __jsx(\"div\", null, __jsx(\"input\", {\n    type: \"text\",\n    maxLength: 1,\n    size: 1,\n    min: \"0\",\n    max: \"9\",\n    name: \"number_1\",\n    pattern: \"[0-9]{1}\",\n    style: {\n      margin: \"20px 10px 30px 0px\",\n      textAlign: \"center\",\n      fontSize: 24\n    },\n    className: \"verificationbox\",\n    value: code1,\n    onChange: e => setCode1(e.target.value)\n  }), __jsx(\"input\", {\n    type: \"text\",\n    maxLength: 1,\n    size: 1,\n    min: \"0\",\n    max: \"9\",\n    name: \"number_2\",\n    pattern: \"[0-9]{1}\",\n    style: {\n      margin: \"20px 10px 30px 0px\",\n      textAlign: \"center\",\n      fontSize: 24\n    },\n    className: \"verificationbox\",\n    value: code2,\n    onChange: e => setCode2(e.target.value)\n  }), __jsx(\"input\", {\n    type: \"text\",\n    maxLength: 1,\n    size: 1,\n    min: \"0\",\n    max: \"9\",\n    name: \"number_3\",\n    pattern: \"[0-9]{1}\",\n    style: {\n      margin: \"20px 10px 30px 0px\",\n      textAlign: \"center\",\n      fontSize: 24\n    },\n    className: \"verificationbox\",\n    value: code3,\n    onChange: e => setCode3(e.target.value)\n  }), __jsx(\"input\", {\n    type: \"text\",\n    maxLength: 1,\n    size: 1,\n    min: \"0\",\n    max: \"9\",\n    name: \"number_4\",\n    pattern: \"[0-9]{1}\",\n    style: {\n      margin: \"20px 10px 30px 0px\",\n      textAlign: \"center\",\n      fontSize: 24\n    },\n    className: \"verificationbox\",\n    value: code4,\n    onChange: e => setCode4(e.target.value)\n  })))), __jsx(Button, {\n    variant: \"primary\",\n    type: \"submit\",\n    block: true,\n    size: \"lg\",\n    className: \"signup-btn\",\n    onClick: submitCode\n  }, \"Continue\"), __jsx(\"br\", null), __jsx(\"div\", {\n    className: \"col-12 text-center mt-3\"\n  }, \"If you don't receive the code within 1 minute, tap below to resend it\", __jsx(\"br\", null), __jsx(Link, {\n    href: \"#\"\n  }, __jsx(\"a\", null, \"Resend\")))))));\n};\n\nexport default ConfirmAccount;","map":null,"metadata":{},"sourceType":"module"}