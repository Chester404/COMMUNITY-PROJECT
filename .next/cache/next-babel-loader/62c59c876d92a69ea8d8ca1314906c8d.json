{"ast":null,"code":"var _jsxFileName = \"/home/james/Documents/dev/cp-fe/pages/auth/confirmaccount.tsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Button from \"react-bootstrap/Button\";\nimport Link from \"next/link\";\nimport { useState, createRef } from \"react\";\nimport axios from \"axios\";\nimport { useRouter } from \"next/router\";\nimport Prompt from \"../../components/Prompt\";\nimport AuthHeader from \"../../components/auth/AuthHeader\";\n\nconst ConfirmAccount = () => {\n  const {\n    0: code,\n    1: setCode\n  } = useState(\"\");\n  const myRef = createRef;\n  const {\n    0: code1,\n    1: setCode1\n  } = useState(\"\");\n  const {\n    0: code2,\n    1: setCode2\n  } = useState(\"\");\n  const {\n    0: code3,\n    1: setCode3\n  } = useState(\"\");\n  const {\n    0: code4,\n    1: setCode4\n  } = useState(\"\");\n  const {\n    0: promptBody,\n    1: setPromptBody\n  } = useState(\"\");\n  const {\n    0: linkTo,\n    1: setLinkTo\n  } = useState(null);\n  const {\n    0: linkText,\n    1: setLinkText\n  } = useState(null);\n  const {\n    0: show,\n    1: setShow\n  } = useState(false);\n  const router = useRouter();\n\n  const handleClose = () => setShow(false);\n\n  const handleShow = () => setShow(true);\n\n  const autotab = (current, to) => {\n    if (current.getAttribute && current.value.length == current.getAttribute(\"maxlength\")) {\n      to.focus();\n    }\n  };\n\n  const submitCode = async () => {\n    try {\n      const rs = await axios.post(\"http://51.116.114.155:8080/auth/keyinput/\", {\n        integer_key: parseInt(`${code1}${code2}${code3}${code4}`)\n      });\n      console.log(rs);\n      setPromptBody(\"Verification successful\");\n      setLinkTo(\"login\");\n      setLinkText(\"Login\");\n      setShow(true);\n    } catch (e) {\n      console.log(e);\n      setPromptBody(\"Verification failed\");\n      setLinkTo(\"login\");\n      setLinkText(\"\");\n      setShow(true);\n    }\n  };\n\n  return __jsx(React.Fragment, null, __jsx(AuthHeader, {\n    title: \"Verify Code\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"navbar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }, __jsx(\"img\", {\n    className: \"logo\",\n    src: \"/images/Logo.png\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }))), __jsx(Prompt // body={`A confirmation has been sent to your email. Please retrieve the code and\n  // confirm acount`}\n  , {\n    title: \"Verification\",\n    linkTo: linkTo,\n    linkText: linkText,\n    show: show,\n    handleClose: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }, promptBody)), __jsx(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"wrapper\",\n    style: {\n      margin: \"70px 0\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"row\",\n    style: {\n      margin: \"0 40px\",\n      alignContent: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"col-4\",\n    style: {\n      textAlign: \"center\",\n      alignContent: \"center\",\n      alignItems: \"center\",\n      width: 400\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    style: {\n      fontSize: 30,\n      fontWeight: \"bolder\",\n      margin: 0,\n      padding: 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }\n  }, \"Enter code for\"), __jsx(\"div\", {\n    style: {\n      fontSize: 30,\n      fontWeight: \"bolder\",\n      margin: 0,\n      padding: 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  }, \"verification\"), __jsx(\"form\", {\n    name: \"confirmation_code\",\n    style: {\n      width: \"100%\",\n      marginTop: 40\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 19\n    }\n  }, __jsx(\"input\", {\n    type: \"text\",\n    maxLength: 1,\n    size: 1,\n    min: \"0\",\n    max: \"9\",\n    name: \"number_1\",\n    pattern: \"[0-9]{1}\",\n    style: {\n      margin: \"20px 10px 30px 0px\",\n      textAlign: \"center\",\n      fontSize: 24\n    },\n    className: \"verificationbox\",\n    value: code1,\n    onChange: e => setCode1(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 21\n    }\n  }), __jsx(\"input\", {\n    type: \"text\",\n    maxLength: 1,\n    size: 1,\n    min: \"0\",\n    max: \"9\",\n    name: \"number_2\",\n    pattern: \"[0-9]{1}\",\n    style: {\n      margin: \"20px 10px 30px 0px\",\n      textAlign: \"center\",\n      fontSize: 24\n    },\n    className: \"verificationbox\",\n    value: code2,\n    onChange: e => setCode2(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 21\n    }\n  }), __jsx(\"input\", {\n    type: \"text\",\n    maxLength: 1,\n    size: 1,\n    min: \"0\",\n    max: \"9\",\n    name: \"number_3\",\n    pattern: \"[0-9]{1}\",\n    style: {\n      margin: \"20px 10px 30px 0px\",\n      textAlign: \"center\",\n      fontSize: 24\n    },\n    className: \"verificationbox\",\n    value: code3,\n    onChange: e => setCode3(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 21\n    }\n  }), __jsx(\"input\", {\n    type: \"text\",\n    maxLength: 1,\n    size: 1,\n    min: \"0\",\n    max: \"9\",\n    name: \"number_4\",\n    pattern: \"[0-9]{1}\",\n    style: {\n      margin: \"20px 10px 30px 0px\",\n      textAlign: \"center\",\n      fontSize: 24\n    },\n    className: \"verificationbox\",\n    value: code4,\n    onChange: e => setCode4(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 21\n    }\n  })))), __jsx(Button, {\n    variant: \"primary\",\n    type: \"submit\",\n    block: true,\n    size: \"lg\",\n    className: \"signup-btn\",\n    onClick: submitCode,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 15\n    }\n  }, \"Continue\"), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 15\n    }\n  }), __jsx(\"div\", {\n    className: \"col-12 text-center mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 15\n    }\n  }, \"If you don't receive the code within 1 minute, tap below to resend it\", __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 17\n    }\n  }), __jsx(Link, {\n    href: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 17\n    }\n  }, __jsx(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 19\n    }\n  }, \"Resend\")))))), __jsx(\"script\", {\n    type: \"text/javascript\",\n    src: \"/js/a.js\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default ConfirmAccount;","map":{"version":3,"sources":["/home/james/Documents/dev/cp-fe/pages/auth/confirmaccount.tsx"],"names":["Button","Link","useState","createRef","axios","useRouter","Prompt","AuthHeader","ConfirmAccount","code","setCode","myRef","code1","setCode1","code2","setCode2","code3","setCode3","code4","setCode4","promptBody","setPromptBody","linkTo","setLinkTo","linkText","setLinkText","show","setShow","router","handleClose","handleShow","autotab","current","to","getAttribute","value","length","focus","submitCode","rs","post","integer_key","parseInt","console","log","e","margin","alignContent","textAlign","alignItems","width","fontSize","fontWeight","padding","marginTop","target"],"mappings":"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","sourcesContent":["import Layout from \"../../components/Layout\";\nimport Head from \"next/head\";\nimport Button from \"react-bootstrap/Button\";\nimport Link from \"next/link\";\nimport { useState, createRef } from \"react\";\nimport axios from \"axios\";\nimport { useRouter } from \"next/router\";\nimport Prompt from \"../../components/Prompt\";\nimport AuthHeader from \"../../components/auth/AuthHeader\";\n\nconst ConfirmAccount = () => {\n  const [code, setCode] = useState(\"\");\n  const myRef = createRef;\n  const [code1, setCode1] = useState(\"\");\n  const [code2, setCode2] = useState(\"\");\n  const [code3, setCode3] = useState(\"\");\n  const [code4, setCode4] = useState(\"\");\n  const [promptBody, setPromptBody] = useState(\"\");\n  const [linkTo, setLinkTo] = useState(null);\n  const [linkText, setLinkText] = useState(null);\n  const [show, setShow] = useState(false);\n\n  const router = useRouter();\n\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n\n  const autotab = (current, to) => {\n    if (\n      current.getAttribute &&\n      current.value.length == current.getAttribute(\"maxlength\")\n    ) {\n      to.focus();\n    }\n  };\n\n  const submitCode = async () => {\n    try {\n      const rs: any = await axios.post(\n        \"http://51.116.114.155:8080/auth/keyinput/\",\n        {\n          integer_key: parseInt(`${code1}${code2}${code3}${code4}`),\n        }\n      );\n      console.log(rs);\n      setPromptBody(\"Verification successful\");\n      setLinkTo(\"login\");\n      setLinkText(\"Login\");\n      setShow(true);\n    } catch (e) {\n      console.log(e);\n      setPromptBody(\"Verification failed\");\n      setLinkTo(\"login\");\n      setLinkText(\"\");\n      setShow(true);\n    }\n  };\n  return (\n    <>\n      <AuthHeader title=\"Verify Code\">\n        <div className=\"row\">\n          <div className=\"navbar\">\n            <img className=\"logo\" src=\"/images/Logo.png\" />\n          </div>\n        </div>\n        <Prompt\n          // body={`A confirmation has been sent to your email. Please retrieve the code and\n          // confirm acount`}\n          title=\"Verification\"\n          linkTo={linkTo}\n          linkText={linkText}\n          show={show}\n          handleClose={handleClose}\n        >\n          <p>{promptBody}</p>\n        </Prompt>\n        <div className=\"container\">\n          <div className=\"wrapper\" style={{ margin: \"70px 0\" }}>\n            <div\n              className=\"row\"\n              style={{ margin: \"0 40px\", alignContent: \"center\" }}\n            >\n              <div\n                className=\"col-4\"\n                style={{\n                  textAlign: \"center\",\n                  alignContent: \"center\",\n                  alignItems: \"center\",\n                  width: 400,\n                }}\n              >\n                <div\n                  style={{\n                    fontSize: 30,\n                    fontWeight: \"bolder\",\n                    margin: 0,\n                    padding: 0,\n                  }}\n                >\n                  Enter code for\n                </div>\n                <div\n                  style={{\n                    fontSize: 30,\n                    fontWeight: \"bolder\",\n                    margin: 0,\n                    padding: 0,\n                  }}\n                >\n                  verification\n                </div>\n                <form\n                  name=\"confirmation_code\"\n                  style={{ width: \"100%\", marginTop: 40 }}\n                >\n                  <div>\n                    <input\n                      type=\"text\"\n                      maxLength={1}\n                      size={1}\n                      min=\"0\"\n                      max=\"9\"\n                      name=\"number_1\"\n                      pattern=\"[0-9]{1}\"\n                      style={{\n                        margin: \"20px 10px 30px 0px\",\n                        textAlign: \"center\",\n                        fontSize: 24,\n                      }}\n                      className=\"verificationbox\"\n                      value={code1}\n                      onChange={(e) => setCode1(e.target.value)}\n                    ></input>\n                    <input\n                      type=\"text\"\n                      maxLength={1}\n                      size={1}\n                      min=\"0\"\n                      max=\"9\"\n                      name=\"number_2\"\n                      pattern=\"[0-9]{1}\"\n                      style={{\n                        margin: \"20px 10px 30px 0px\",\n                        textAlign: \"center\",\n                        fontSize: 24,\n                      }}\n                      className=\"verificationbox\"\n                      value={code2}\n                      onChange={(e) => setCode2(e.target.value)}\n                    ></input>\n                    <input\n                      type=\"text\"\n                      maxLength={1}\n                      size={1}\n                      min=\"0\"\n                      max=\"9\"\n                      name=\"number_3\"\n                      pattern=\"[0-9]{1}\"\n                      style={{\n                        margin: \"20px 10px 30px 0px\",\n                        textAlign: \"center\",\n                        fontSize: 24,\n                      }}\n                      className=\"verificationbox\"\n                      value={code3}\n                      onChange={(e) => setCode3(e.target.value)}\n                    ></input>\n                    <input\n                      type=\"text\"\n                      maxLength={1}\n                      size={1}\n                      min=\"0\"\n                      max=\"9\"\n                      name=\"number_4\"\n                      pattern=\"[0-9]{1}\"\n                      style={{\n                        margin: \"20px 10px 30px 0px\",\n                        textAlign: \"center\",\n                        fontSize: 24,\n                      }}\n                      className=\"verificationbox\"\n                      value={code4}\n                      onChange={(e) => setCode4(e.target.value)}\n                    ></input>\n                  </div>\n                </form>\n              </div>\n              <Button\n                variant=\"primary\"\n                type=\"submit\"\n                block\n                size=\"lg\"\n                className=\"signup-btn\"\n                onClick={submitCode}\n              >\n                Continue\n              </Button>\n              <br />\n              <div className=\"col-12 text-center mt-3\">\n                If you don't receive the code within 1 minute, tap below to\n                resend it\n                <br />\n                <Link href=\"#\">\n                  <a>Resend</a>\n                </Link>\n              </div>\n            </div>\n          </div>\n        </div>\n        <script type=\"text/javascript\" src=\"/js/a.js\"></script>\n      </AuthHeader>\n    </>\n  );\n};\n\nexport default ConfirmAccount;\n"]},"metadata":{},"sourceType":"module"}